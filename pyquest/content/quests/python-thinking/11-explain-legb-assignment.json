{
  "id": "python-thinking-11-explain-legb",
  "world": "python-thinking",
  "type": "explain",
  "difficulty": "advanced",
  "xpReward": 130,
  "story": "The Council of Scopes needs documentation for their archives. Explain LEGB, the assignment rule, and when to use `global` vs `nonlocal`.",
  "instructions": "Explain LEGB scope resolution and why assignment creates local variables unless declared `global`/`nonlocal`. Include an example demonstrating UnboundLocalError and its fix.",
  "explainRubric": [
    {
      "keywords": [
        "LEGB",
        "local",
        "enclosing",
        "global",
        "builtin"
      ],
      "weight": 0.25,
      "description": "Explains the LEGB acronym and scope hierarchy"
    },
    {
      "keywords": [
        "assignment",
        "creates local",
        "assumes local"
      ],
      "weight": 0.25,
      "description": "Explains that assignment makes a variable local"
    },
    {
      "keywords": [
        "UnboundLocalError"
      ],
      "weight": 0.15,
      "description": "Mentions the error that occurs when reading before assigning"
    },
    {
      "keywords": [
        "global",
        "nonlocal"
      ],
      "weight": 0.2,
      "description": "Discusses the keywords to modify outer scopes"
    },
    {
      "keywords": [
        "example",
        "code",
        "def",
        "function"
      ],
      "weight": 0.15,
      "description": "Includes a concrete code example"
    }
  ],
  "hints": [
    {
      "level": 1,
      "text": "LEGB: Local (current function), Enclosing (outer functions), Global (module level), Built-in (Python's built-ins)."
    },
    {
      "level": 2,
      "text": "Key rule: If Python sees `x = ...` anywhere in a function, it treats `x` as local for the ENTIRE function. Reading `x` before the assignment causes UnboundLocalError."
    },
    {
      "level": 3,
      "text": "Use `global x` to modify module-level variables, `nonlocal x` to modify enclosing function variables. Example: `def f(): global MODE; MODE = 'dark'`"
    }
  ],
  "tests": [
    {
      "id": "python-thinking-11-explain-legb-test-1",
      "type": "output",
      "description": "Test placeholder",
      "expectedBehavior": "Generated by schema fixer"
    }
  ],
  "hintUnlockAttempts": 2,
  "order": 11,
  "title": "Explain: LEGB + Assignment Creates Locals",
  "starterCode": "",
  "solutionHidden": "# No code solution for explain quest"
}