{
  "id": "python-thinking-15-iteration-mutation",
  "world": "python-thinking",
  "type": "predict_output",
  "difficulty": "advanced",
  "xpReward": 110,
  "story": "A cleaning spell tries to remove all zeros from a list while iterating over it. The results are... incomplete. Predict what survives the purge.",
  "instructions": "Predict the output. The code removes items from a list while iterating over it. Watch out for skipped elements!",
  "hints": [
    {
      "level": 1,
      "text": "Iterating over `numbers[:]` creates a copy, so removals don't affect the iteration. All zeros are removed."
    },
    {
      "level": 2,
      "text": "Iterating over `values` directly while removing causes the iterator to skip elements when indices shift."
    },
    {
      "level": 3,
      "text": "Safe patterns: iterate over a copy, or use list comprehension: `numbers = [x for x in numbers if x != 0]`"
    }
  ],
  "tests": [
    {
      "id": "python-thinking-15-iteration-mutation-test-1",
      "type": "output",
      "description": "Test placeholder",
      "expectedBehavior": "Generated by schema fixer"
    }
  ],
  "solutionHidden": "numbers = [0, 1, 0, 2, 0, 3, 0]\nprint(f\"Original: {numbers}\")\n\nfor num in numbers[:]:\n    if num == 0:\n        numbers.remove(num)\n\nprint(f\"After removing in loop over copy: {numbers}\")\n\n# Now the dangerous way\nvalues = [0, 1, 0, 2, 0, 3, 0]\nfor val in values:\n    if val == 0:\n        values.remove(val)\n\nprint(f\"After removing in loop over same list: {values}\")",
  "starterCode": "",
  "hintUnlockAttempts": 2,
  "order": 15,
  "title": "Iteration vs Indexing: Modifying While Iterating"
}