{
  "id": "python-thinking-08-legb-predict",
  "world": "python-thinking",
  "type": "predict_output",
  "difficulty": "intermediate",
  "xpReward": 90,
  "story": "The Tower of Scopes has four levels: Local, Enclosing, Global, and Built-in. Navigate these levels carefully to predict what the spell will reveal.",
  "instructions": "Predict the output. The code has nested functions reading (not assigning) variables from different scopes. Understand LEGB resolution order.",
  "hints": [
    {
      "level": 1,
      "text": "LEGB stands for Local, Enclosing, Global, Built-in. Python searches for names in this order."
    },
    {
      "level": 2,
      "text": "When `inner()` reads `x` and doesn't have a local `x`, it looks in the enclosing scope (`outer`), where it finds `x = 'enclosing'`."
    },
    {
      "level": 3,
      "text": "Each function has its own local scope. If a name exists locally, Python uses that and doesn't search outer scopes."
    }
  ],
  "tests": [
    {
      "id": "python-thinking-08-legb-predict-test-1",
      "type": "output",
      "description": "Test placeholder",
      "expectedBehavior": "Generated by schema fixer"
    }
  ],
  "solutionHidden": "x = \"global\"\n\ndef outer():\n    x = \"enclosing\"\n    \n    def inner():\n        print(f\"inner sees: {x}\")\n    \n    inner()\n    print(f\"outer sees: {x}\")\n\nouter()\nprint(f\"global sees: {x}\")\n\n# Shadow with local\ndef test():\n    x = \"local\"\n    print(f\"test sees: {x}\")\n\ntest()",
  "starterCode": "",
  "hintUnlockAttempts": 2,
  "order": 8,
  "title": "LEGB in the Wild"
}